<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS-PE-Opdracht</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</head>

<body>
    <header class="container mt-3 mb-3">
        <h1>Registreer</h1>
        <h4>Meld je aan bij R.V. Software Solutions, wij beschermen jouw software tegen malware!</h4>
    </header>
    <main class="container">
        <div class="row">
            <div class="col-md-8">
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="voornaam" class="form-label fw-bold">Voornaam</label>
                        <input type="text" class="form-control" id="voornaam" placeholder="Uw voornaam">
                    </div>
                    <div class="col-md-4">
                        <label for="naam" class="form-label fw-bold">Naam</label>
                        <input type="text" class="form-control" id="naam" placeholder="Uw naam">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="gebruikersnaam" class="form-label fw-bold">Gebruikersnaam</label>
                        <div class="input-group input-group-md mb-3">
                            <span class="input-group-text">@</span>
                            <input type="text" class="form-control" aria-label="gebruikersnaam"
                                aria-describedby="gebruikersnaam" id="gebruikersnaam">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="mailadres" class="form-label fw-bold">E-mailadres</label>
                        <input type="email" class="form-control" id="mailadres" placeholder="mail@example.be">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="wachtwoord" class="form-label fw-bold">Wachtwoord</label>
                        <input type="password" class="form-control" id="wachtwoord"
                            aria-describedby="passwordHelpBlock">
                        <div id="passwordHelpBlock" class="form-text">
                            Je wachtwoord moet minstens 8 tekens lang zijn
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label for="herhaalWachtwoord" class="form-label fw-bold">Herhaal wachtwoord</label>
                        <input type="password" class="form-control" id="herhaalWachtwoord">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-8">
                        <label for="adres" class="form-label fw-bold">Adres</label>
                        <input type="text" class="form-control" id="adres" placeholder="Uw adres en huisnummer">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-3">
                        <label for="land" class="form-label fw-bold">Land</label>
                        <select class="form-select" aria-label="land">
                            <option selected>Kies een land</option>
                            <option value="1">Belgïe</option>
                            <option value="2">Nederland</option>
                            <option value="3">Luxemburg</option>
                            <option value="4">Duitsland</option>
                            <option value="5">Frankrijk</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="provincie" class="form-label fw-bold">Provincie</label>
                        <select class="form-select" aria-label="provincie" id="provincie">
                            <option value="selected">Kies een provincie</option>
                            <option value="1">Limburg</option>
                            <option value="2">Antwerpen</option>
                            <option value="3">W-Vlaanderen</option>
                            <option value="4">O-Vlaanderen</option>
                            <option value="5">Vlaams-Brabant</option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <label for="postcode" class="form-label fw-bold">Postcode</label>
                        <input type="text" class="form-control" id="postcode">
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8">
                        <hr>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <h4 class="mb-3">Hou me op de hoogte</h4>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="checkNieuwsbrief">
                            <label class="form-check-label" for="checkNieuwsbrief">
                                Inschrijven voor onze nieuwsbrief
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" value="" id="checkVoorwaarden">
                            <label class="form-check-label" for="checkVoorwaarden">
                                Ik ga akkoord met de algemene voorwaarden
                            </label>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <h4 class="mb-3">Betaling</h4>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="radioBankingApp"
                                unchecked>
                            <label class="form-check-label" for="radioBankingApp">
                                Banking app
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefault"
                                id="radioOverschrijving" unchecked>
                            <label class="form-check-label" for="radioOverschrijving">
                                Overschrijving
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="radioVisa"
                                unchecked>
                            <label class="form-check-label" for="radioVisa">
                                Visa card
                            </label>
                        </div>
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="radioPayPal"
                                unchecked>
                            <label class="form-check-label" for="radioPayPal">
                                PayPal
                            </label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8 mb-3">
                        <hr>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8 mb-3">
                        <div class="d-grid gap-2">
                            <button id="valideren" class="btn btn-primary fw-bold" type="button">Enter a safer world
                                now!</button>
                        </div>
                    </div>
                </div>
            </div>
            <aside class="col-md-4">
                <div id="alertError" class="alert alert-danger visually-hidden" role="alert">
                    <h4>Oeps, er ging iets mis!!!</h4>
                    <p id="error"></p>
                </div>
                <div id="alertSucces" class="alert alert-success visually-hidden" role="alert">
                    <h4>Awesome!</h4>
                    <p>Je registratie is helemaal in orde.</p>
                </div>
                <div id="alertBetaling" class="alert alert-info visually-hidden" role="alert">
                    <h4>Hoe ga je betalen?</h4>
                    <p id="betaling"></p>
                </div>

            </aside>
        </div>
    </main>

    <script>

        //constante variabele die hangen aan de id's van de button, radiobuttons en checkboxes

        const valideer_btn = document.querySelector('#valideren');
        const bankingApp_btn = document.querySelector('#radioBankingApp');
        const overschrijving_btn = document.querySelector('#radioOverschrijving');
        const visa_btn = document.querySelector('#radioVisa');
        const paypal_btn = document.querySelector('#radioPayPal');
        const voorwaarden_checkbox = document.querySelector('#checkVoorwaarden');

        let melding = [];

        //Functie die checkt of de velden juist ingevuld zijn.

        function checkEmptyFields() {

            //maakt een nieuwe lege array aan die je gaat opvullen met errors.

            melding = new Array()

            //voert de functies uit en geeft wanneer niet ingevuld een error terug aan de array "melding"

            checkVoornaam();
            checkNaam();
            checkGebruikersnaam();
            validateEmail();
            checkWachtwoord();
            checkHerhalingWachtwoord();
            checkAdres();
            checkProvincie();
            checkPC();
            checkAlgemeneVoorwaarden();

            //Vult de lege array aan met de meldingen bij een error.

            document.getElementById("error").innerHTML = "";
            for (let i = 0; i < melding.length; i++) {
                document.getElementById("error").innerHTML += melding[i] + '<br>';
            }

            //Voert de functie validatePayment uit en toont deze in de blauwe betaalalert.

            validatePayment();

            // als de array "melding" niet leeg is zal enkel de alertbalk met errors tevoorschijn komen.

            if (!melding == "") {
                document.querySelector('#alertError').classList.remove('visually-hidden');
                document.querySelector('#alertBetaling').classList.add('visually-hidden');
                document.querySelector('#alertSucces').classList.add('visually-hidden');
            }

            // als de array "melding" leeg is zal de succesvolle alert te zien zijn en de betaling alert.

            if (melding == "") {
                document.querySelector('#alertError').classList.add('visually-hidden');
                document.querySelector('#alertBetaling').classList.remove('visually-hidden');
                document.querySelector('#alertSucces').classList.remove('visually-hidden');
            }
        }

        //Deze functie checkt of de voornaam ingevuld is en geeft anders een melding terug.

        function checkVoornaam() {
            let voornaam = document.querySelector('#voornaam').value;
            if (voornaam == "") return melding.push('Het veld voornaam is vereist!');

        }

        //Deze functie checkt of de naam ingevuld is en geeft anders een melding terug.

        function checkNaam() {
            let naam = document.querySelector('#naam').value;
            if (naam == "") return melding.push('Het veld naam is vereist!');
        }

        //Deze functie checkt of de gebruikersnaam ingevuld is en geeft anders een melding terug.

        function checkGebruikersnaam() {
            let gebruikersnaam = document.querySelector('#gebruikersnaam').value;
            if (gebruikersnaam == "") return melding.push('Het veld gebruikersnaam is vereist!');

        }

        //Deze functie checkt of het emailadres ingevuld is en/of het emailadres juist is, anders geeft dit een melding terug.

        function validateEmail() {

            //checkt of het emailadres ingevuld is.

            let emailadres = document.querySelector('#mailadres').value;
            if (emailadres == "") return melding.push('Het veld email is vereist!');

            // checkt of het emailadres wel degelijk een emailadres is aan de hand van een reeks karakters.

            let emailBevat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
            if (emailadres.match(emailBevat)) {
                return true;
            } else {
                return melding.push('E-mailadres is niet correct!')
                return false;
            }

        }

        //Deze functie checkt of het wachtwoord ingevuld is en of het wachtwoord uit meer als 7 karakters bestaat.
        //Is dit niet geeft dit een melding terug.

        function checkWachtwoord() {
            let wachtwoord = document.querySelector('#wachtwoord').value;
            if (wachtwoord == "") return melding.push('Het veld wachtwoord is vereist!');
            if (wachtwoord.length < 8) return melding.push('Het wachtwoord moet langer zijn als 7 karakters!');

        }

        //Deze functie checkt of het herhaalwachtwoord ingevuld is en of het herhaalwachtwoord gelijk is aan wachtwoord.
        //Is dit niet geeft dit een melding terug.

        function checkHerhalingWachtwoord() {
            let wachtwoord = document.querySelector('#wachtwoord').value;
            let herhaalWachtwoord = document.querySelector('#herhaalWachtwoord').value;
            if (herhaalWachtwoord == "") return melding.push('Het veld herhaal wachtwoord is vereist!');
            if (herhaalWachtwoord != wachtwoord) return melding.push('Je wachtwoorden komen niet overeen!');
        }

        //Deze functie checkt of het adres ingevuld is en geeft anders een melding terug.

        function checkAdres() {
            let adres = document.querySelector('#adres').value;
            if (adres == "") return melding.push('Adres is vereist!');
        }

        //Deze functie checkt of er een functie geselecteerd is en geeft anders een melding terug.

        function checkProvincie() {
            let provincie = document.querySelector('#provincie');
            let selectedValue = provincie.options[provincie.selectedIndex].value;
            if (selectedValue == "selected") {
                return melding.push('Provincie is vereist!');
            }
        }

        //Deze functie checkt of er een postcode ingevuld is en of de postcode niet kleiner is als 1000 en niet groter is als 9999.
        //Is dit niet geeft dit een melding terug.

        function checkPC() {
            let postcode = document.querySelector('#postcode').value;
            if (postcode == "") return melding.push('Het veld postcode is vereist!');
            if (postcode < 1000 || postcode >= 10000) return melding.push('De waarde van de postcode moet tussen 1000 en 9999 liggen')
        }

        //Deze functie checkt of je de algemene voorwaarden hebt geselecteerd en geeft anders een melding terug.

        function checkAlgemeneVoorwaarden() {
            if (voorwaarden_checkbox.checked == true) {
                return true;
            } else {
                return melding.push('Je moet de algemene voorwaarden accepteren!')
                return false;
            }
        }

        //Deze functie checkt of je één van de betalingen hebt geselecteerd en geeft dit ook aan in de blauwe info alert.

        function validatePayment() {

            // de melding die word gegeven als banking app geselecteerd is.

            if (bankingApp_btn.checked == true) {

                document.querySelector('#betaling').innerHTML = 'Je betalingswijze is Banking app.'
            }

            // de melding die word gegeven als overschrijving geselecteerd is.

            if (overschrijving_btn.checked == true) {

                document.querySelector('#betaling').innerHTML = 'Je betalingswijze is Overschrijving.'
            }

            // de melding die word gegeven als visa card geselecteerd is.

            if (visa_btn.checked == true) {

                document.querySelector('#betaling').innerHTML = 'Je betalingswijze is Visa card.'
            }

            // de melding die word gegeven als paypal geselecteerd is.

            if (paypal_btn.checked == true) {

                document.querySelector('#betaling').innerHTML = 'Je betalingswijze is PayPal.'
            }
        }

        //de functie die een click event geeft aan de button en daarmee ook checkt of de velden juist ingevuld zijn.

        function validateForm() {
            valideer_btn.addEventListener('click', checkEmptyFields);
        }
        validateForm();

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>

</html>